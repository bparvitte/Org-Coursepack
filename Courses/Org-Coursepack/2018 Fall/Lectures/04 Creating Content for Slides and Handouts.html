<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Class 4: Creating Content for Slides and Handouts</title>
<meta name="description" content="Fall 2018 Org-Coursepack
School specific teaching materials"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/reveal.css"/>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/theme/simple.css" id="theme"/>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/css/zenburn.css"/>
<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
<base target="_blank">
<base href="../">
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h1 class="title">Class 4: Creating Content for Slides and Handouts</h1>
</section>
<section>
<section id="slide-sec-1">
<h2 id="org3a69f25"><span class="section-number-2">1</span> Introduction and Recap of Last Class</h2>
<div class="outline-text-2" id="text-1">
</div>
</section>
<section id="slide-sec-1-1">
<h3 id="orge12d3e8"><span class="section-number-3">1.1</span> Announcements</h3>
<ul>
<li></li>

</ul>
</section>
<section id="slide-sec-1-2">
<h3 id="org27dd35a"><span class="section-number-3">1.2</span> Recap of Last Class</h3>
<ul>
<li class="fragment appear">Topic Org Files</li>
<li class="fragment appear">Course Org Files</li>

</ul>
</section>
<section id="slide-sec-Lecture/Creating Content for Slides and Handouts/Outline">
<h3 id="Lecture/Creating Content for Slides and Handouts/Outline"><a id="org3136158"></a><span class="section-number-3">1.3</span> Lecture Outline</h3>
<ul>
<li class="fragment appear">Creating Slides and Handouts: Introduction</li>
<li class="fragment appear">Using Raw HTML Tags and LaTeX Code</li>
<li class="fragment appear">Features for Both Slides and Handouts</li>
<li class="fragment appear">Slides: Features for reveal.js</li>
<li class="fragment appear">Handouts: Features for LaTeX</li>

</ul>
</section>
</section>
<section>
<section id="slide-sec-2">
<h2 id="org7ce4f1e"><span class="section-number-2">2</span> Creating Slides and Handouts: Introduction</h2>
<p>
Content is created using the Org markup language. General information on how
to use the markeup language can be found in the <a href="https://orgmode.org/manual/Markup.html">Org manual</a>. Hence,
we focus on common slide- and handout-related tasks that cannot be achieved
with common Org markup language. These tasks require either raw HTML tags or
LaTeX code, or custom Emacs lisp code. For tasks that require custom Emacs
Lisp code, users can put code snippets we present here into their Emacs init
file.
</p>

<div class="mdframed">
<p>
We use reveal.js as the default slide format, and while Beamer slides are not
completely supported by Org-Coursepack yet, in some cases we do provide the same
functionality for Beamer as well as reveal.js. In those cases we have a
note describing how to achieve the functionality in Beamer.
</p>

</div>
</section>
</section>
<section>
<section id="slide-sec-3">
<h2 id="org68848c1"><span class="section-number-2">3</span> Using Raw HTML Tags and LaTeX Code</h2>
<p>
Directly quoting raw HTML tags and LaTeX code allows users to have granular
control over how contents are presented. Such quotes will be only included in
their corresponding outputs that are HTML-based (e.g., reveal.js) and
LaTeX-based, respectively. Hence, to understand the information that follow,
the readers should be familiar with the information in the Org manual on
<a href="https://orgmode.org/manual/Quoting-HTML-tags.html">Quoting HTML tags</a> and <a href="https://orgmode.org/manual/Quoting-LaTeX-code.html">Quoting LaTeX code</a>.
</p>

<div class="mdframed">
<p>
<b>Inline Raw Code</b>
</p>

<p>
To use Org macros with raw LaTeX code (e.g., surround a macro with
LaTeX code), use <code>@@latex:your code here@@</code> (same grammar
applies to HTML as well) like the following:
</p>

<pre class="example">
  @@latex:{\small@@ {{{COURSE}}} @@latex:}@@
</pre>

</div>
</section>
</section>
<section>
<section id="slide-sec-4">
<h2 id="org10970fe"><span class="section-number-2">4</span> Features for Both Slides and Handouts</h2>
<div class="outline-text-2" id="text-4">
</div>
</section>
<section id="slide-sec-4-1">
<h3 id="org475d4bb"><span class="section-number-3">4.1</span> Specifying Attributes</h3>
<p>
Org mode allows users to specify attributes to raw HTML tags or LaTeX code
using <code>#+ATTR_FORMAT:</code> grammar. For example, the following shows how to 
specify the width of an image.
</p>

<pre class="example">
#+ATTR_HTML: :width 80%
[[/img/image.png]]
</pre>

<p>
For more information, see the <a href="https://orgmode.org/worg/org-tutorials/images-and-xhtml-export.html">tutorial on Images and XHTML export</a>.
</p>

</section>
<section id="slide-sec-4-2">
<h3 id="org1fc47be"><span class="section-number-3">4.2</span> Changing Font Sizes</h3>
<p>
One of the frequently used use cases of raw HTML or LaTeX code in Org markup
is changing the font size of a specific text. 
</p>

<p>
For example, to apply a smaller
font size in HTML outputs, the user can use the following code.
</p>

<div class="org-src-container">

<pre><code class="text" >  #+HTML: <span style=font-size:20pt>
  Content with smaller font
  #+HTML: </span>
</code></pre>
</div>

</section>
<section >

<p>
In LaTeX handouts, the user can use the code below.
</p>

<div class="org-src-container">

<pre><code class="text" >  #+LATEX: {\small
  Content with smaller font
  #+LATEX: }
</code></pre>
</div>

</section>
<section >

<p>
Since raw code that is irrelevant to the specific output format (e.g.,
HTML codes in a LaTeX output) will be ignored, users can safely combine 
HTML and LateX codes and use them together like so:
</p>

<div class="org-src-container">

<pre><code class="text" >    #+LATEX: {\small
    #+HTML: <span style=font-size:20pt>
    Content with smaller font
    #+HTML: </span>
    #+LATEX: }
</code></pre>
</div>
</section>
<section id="slide-sec-4-3">
<h3 id="org72caad0"><span class="section-number-3">4.3</span> Using a Dummy Heading</h3>
<p>
Instructors may want the option to present content of a tree without its heading. To do so, follow the instructions at
<a href="https://orgmode.org/worg/org-hacks.html#ignoreheadline">https://orgmode.org/worg/org-hacks.html#ignoreheadline</a>. Specifically, include the
following in your init file, and any header with the <code>:ignore:</code> tag will not be printed in exported outputs.
</p>

<div class="org-src-container">

<pre><code class="emacs-lisp" >(require 'ox-extra)
(ox-extras-activate '(ignore-headlines))
</code></pre>
</div>
</section>
</section>
<section>
<section id="slide-sec-5">
<h2 id="org5be103f"><span class="section-number-2">5</span> Slides: Features for reveal.js</h2>
<div class="mdframed">
<p>
Note that reveal.js is HTML-based, so any raw HTML tags (e.g., via <code>#+HTML:</code>)
or attributes (e.g., via <code>#+ATTR_HTML:</code>) will be applied to reveal.js as well
as all HTML-based output formats.  For codes that are only for reveal.js, one
should use <code>#+REVEAL:</code> (<code>#+ATTR_REVEAL:</code>) instead of <code>#+HTML:</code>
(<code>#+ATTR_HTML:</code>) to avoid unnecessary tags being exported.
</p>

</div>

</section>
<section id="slide-sec-5-1">
<h3 id="org0c2c5f7"><span class="section-number-3">5.1</span> List Fragments</h3>
<p>
One can easily obtain list fragments (make items in the list appear
sequentially) using reveal.js. Simply add <code>#+ATTR_REVEAL: :frag
(appear)</code> before the list. See the example below.
</p>

<div class="org-src-container">

<pre><code class="text" >  #+ATTR_REVEAL: :frag (appear)
  - I appear first.
  - I appear second.
  - I appear third.
</code></pre>
</div>

<div class="mdframed">
<p>
Similarly, a list fragment can be obtained on the Beamer output by including
<code>#+ATTR_BEAMER: :overlay &lt;+-&gt;</code> before the list.
</p>

</div>

</section>
<section id="slide-sec-5-2">
<h3 id="org79429a9"><span class="section-number-3">5.2</span> Splitting slides</h3>
<p>
To split content into multiple slides, insert the following code between the areas where you want the split to happen.
</p>

<div class="org-src-container">

<pre><code class="text" >  #+REVEAL: split
</code></pre>
</div>

<div class="mdframed">
<p>
Similarly, a frame break can be inserted in Beamer by using <code>#+BEAMER:
\framebreak</code>.
</p>

</div>

</section>
<section id="slide-sec-5-3">
<h3 id="org9fc5ebe"><span class="section-number-3">5.3</span> Embedding Youtube videos</h3>
<p>
One can use the following example to embed a YouTube video in a slide. The
example specifies at which points of the video the viewing will start
(1 second in) and end (60 seconds in).
</p>
<div class="org-src-container">

<pre><code class="text" >  #+BEGIN_EXPORT HTML
  <iframe width="1066" height="570"
  src="https://www.youtube.com/embed/SzA2YODtgK4?start=01&end=60" allowfullscreen>
  </iframe>
  #+END_EXPORT
</code></pre>
</div>
</section>
<section id="slide-sec-5-4">
<h3 id="orgb8b688a"><span class="section-number-3">5.4</span> Speaker Notes</h3>
<p>
An instructor may create a speaker note that accompanies a lecture
slide. reveal.js will display the speaker note in a separate browser
window. To create a speaker note, use a <code>NOTES</code> block as shown in the example
below.
</p>

<div class="org-src-container">

<pre><code class="text" >#+BEGIN_NOTES
- This is a speaker note.
#+END_NOTES
</code></pre>
</div>

</section>
<section >

<p>
The following code needs to be inserted in the init file to hide speaker
notes in LaTeX, reStructuredText, and HTML output formats.
</p>

<div class="mdframed">
<p>
Note that using the example code below will also make speaker notes appear
properly on Beamer.
</p>

</div>

<span style=font-size:20pt>
<div class="org-src-container">

<pre><code class="emacs-lisp" >(defun string/starts-with (string prefix)
  "Return t if STRING starts with prefix."
  (and (string-match (rx-to-string `(: bos ,prefix) t) string) t))

(defun my/process-NOTES-blocks (text backend info)
  "Filter NOTES special blocks in export."
  (cond
   ((eq backend 'latex)
    (if (string/starts-with text "\\begin{NOTES}") ""))
   ((eq backend 'rst)
    (if (string/starts-with text ".. NOTES::") ""))
   ((eq backend 'html)
    (if (string/starts-with text "<div class=\"NOTES\">") ""))
   ((eq backend 'beamer)
    (let ((text (replace-regexp-in-string "\\\\begin{NOTES}" "\\\\note{" text)))
      (replace-regexp-in-string "\\\\end{NOTES}" "}" text)))
   ))

(eval-after-load 'ox '(add-to-list
                       'org-export-filter-special-block-functions
                       'my/process-NOTES-blocks))
</code></pre>
</div>
</span>
</section>
</section>
<section>
<section id="slide-sec-6">
<h2 id="org39047c6"><span class="section-number-2">6</span> Handouts: Features for LaTeX</h2>
<p>
The features introduced in this section are readily available, as the
necessary items in the LaTeX preamble enabling the features are already
specified in the properties of the <code>Lectures</code> subtree in the semester Org
files of the Org-Coursepack.
</p>
</section>
<section id="slide-sec-6-1">
<h3 id="orge230aa2"><span class="section-number-3">6.1</span> Inserting Boxed Paragraphs</h3>
<p>
With the <code>mdframed</code> block, users can easily create boxed paragraphs in LaTeX 
handouts. The example below shows the code for the box and what the box will
look like in the handout. Note that the title of the box is written in bold
instead of using <code>#+ATTR_LATEX: :options [frametitle={Title of the box}]</code>
option, so the title gets printed in both reveal.js and LaTeX outputs.
</p>

</section>
<section >

<div class="org-src-container">

<pre><code class="text" >#+BEGIN_mdframed
*Title of the box*

Content of the box
#+END_mdframed
</code></pre>
</div>

<div class="mdframed">
<p>
<b>Title of the box</b>
</p>

<p>
Content of the box
</p>

</div>

<p>
Optionally, users can choose to add the following code to their init file so
<code>mdframed</code> boxes are automatically converted to <code>note</code> directives in
reStructuredText export.
</p>

<span style=font-size:20pt>
<div class="org-src-container">

<pre><code class="emacs-lisp" >(defun my/process-mdframed-blocks (text backend info)
  "Filter mdframed special blocks in export."
  (cond
   ((org-export-derived-backend-p backend 'rst)
      (replace-regexp-in-string ".. mdframed::" ".. note::" text t t))
   ))

(eval-after-load 'ox '(add-to-list
                       'org-export-filter-special-block-functions
                       'my/process-mdframed-blocks))
</code></pre>
</div>
</span>
</section>
<section id="slide-sec-6-2">
<h3 id="org3503939"><span class="section-number-3">6.2</span> Organizing Content in Multiple Columns</h3>
<p>
One can easily make parts of the handout multi-column. The example
below shows the code for creating two columns and what that will look like in
the handout.
</p>

<div class="org-src-container">

<pre><code class="text" >  #+LATEX: \begin{multicols}{2}
  This is content in the first column.
  This is content in the first column.
  This is content in the first column.

  This is content in the second column.
  This is content in the second column.
  This is content in the second column.
  #+LATEX: \end{multicols}
</code></pre>
</div>

<p>
This is content in the first column.
This is content in the first column.
This is content in the first column.
</p>

<p>
This is content in the second column.
This is content in the second column.
This is content in the second column.
</p>
</section>
</section>
<section>
<section id="slide-sec-7">
<h2 id="orga92dd2e"><span class="section-number-2">7</span> Class Recap</h2>
<ul>
<li class="fragment appear">Creating Slides and Handouts: Introduction</li>
<li class="fragment appear">Using Raw HTML Tags and LaTeX Code</li>
<li class="fragment appear">Features for Both Slides and Handouts</li>
<li class="fragment appear">Slides: Features for reveal.js</li>
<li class="fragment appear">Handouts: Features for LaTeX</li>

</ul>
</section>
</section>
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/head.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: true,
center: true,
slideNumber: 'h/v',
rollingLinks: false,
keyboard: true,
overview: true,

theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none
transitionSpeed: 'default',
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/classList.js', condition: function() { return !document.body.classList; } },
 { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }]
});
</script>
</body>
</html>
